
btn()
  width auto
  font-size 24pt
  background hsl(151, 68%, 88%)
  border 4px solid hsl(151, 68%, 50%)
  border-radius 8px
  text-align center
  margin 8px
  padding 4px 0

icons(size)
  i, b
    display inline-block
    background-size cover
    width size
    height size
  i
    background url(/skull.svg)
  b
    background url(/circle.svg)

_triangle(size)
  content ''
  position absolute
  top 0
  width 0px
  height 0px
  border-style solid

triangleAfter(size)
  position relative
  &:after
    _triangle(size)
    right -1 * size
    border-width size size 0 0
    border-color #ccc transparent transparent transparent

triangleBefore(size)
  position relative
  &:before
    _triangle(size)
    left -1 * size
    border-width 0 0 size size
    border-color transparent transparent #ccc transparent

html, body
  margin 0
  padding 0
  user-select none
  -webkit-tap-highlight-color rgba(0,0,0,0)

body
  font-family 'Gill Sans', sans-serif
  background-image url(/background.jpg)
  animation slide 10s infinite
  animation-timing-function linear
  position fixed
  top 0
  left 0
  right 0
  bottom 0
  overflow hidden

#slider
  width 320px
  height 276px
  .game
    width 146px
    margin 52px auto
    .diff
      padding 4px 0
      text-align center
      icons(14px)

#indicator
  icons(14px)
  text-align center
  b
    opacity 0.4
    transition opacity 220ms
  b.active
    opacity 0.8

h1
  background #ccc
  margin 20px 0
  padding 0 12px 0 20px
  display inline-block
  line-height 50px
  clear both
  triangleAfter(50px)

.btn
  width 130px
  margin 0 0 20px
  line-height 35px
  background #ccc
  text-align center
  triangleAfter(35px)

#levels
  div
    icons(20px)
    i, b
      vertical-align -5px

#game
  transform-origin 0 0
  margin 24px auto
  width 270px
  height 270px
  .sudoku-row
    width 270px
    height 29px
    &:nth-child(9)
      height 30px
      .sudoku-cell
        height 30px
    .sudoku-cell
      width 29px
      height 29px
      font-size 12pt
      line-height 30px
      &:nth-child(9)
        width 30px

.touch-ctrl
  transform scale(0.5)
  box-shadow 0px 0px 80px black

#solved
  .success
    font-size 100pt
    line-height 152px
    height 140px
    width 140px
    margin 32px auto 64px
    transform-origin 50% 50%
    background linear-gradient(top, #1C2, #1A2)
    text-align center
    border-radius 80px
    color white
    box-shadow inset 0 8px 12px rgba(255,255,255,0.15), inset 0 -8px 12px rgba(0,0,0,0.15)
    border 1px solid #394
    -webkit-text-stroke 1px #394
  .btn
    float right
    triangleBefore(35px)

#generating
  top 50%
  left 50%
  width 160px
  margin-top -18px
  margin-left -80px
  line-height 36px
  background #ccc
  text-align center
  triangleBefore(36px)
  triangleAfter(36px)
  position absolute
  transition-duration 660ms
  &.reset
    transition-duration 0ms
    transform translateX(-400px)
  &.hide
    transform translateX(400px)

#menu, #load, #levels, #main, #solved
  position absolute
  top 0
  left 0
  width 320px
  height 440px
  overflow hidden
  &.hide
    pointer-events none
    h1
      transform translateX(-400px)
  h1, div, .new, #game, #slider, #indicator
    transition transform 660ms

#menu.hide
  .btn
    transform translateX(-600px)

#load.hide
  #slider, #indicator
    transform translateY(500px)

#levels.hide
  div:nth-child(2)
    transform translateX(-300px)
  div:nth-child(3)
    transform translateX(-600px)
  div:nth-child(4)
    transform translateX(-900px)
  div:nth-child(5)
    transform translateX(-1200px)
  div:nth-child(6)
    transform translateX(-1500px)

#main.hide
  #game
    transform translateY(500px)

#solved.hide
  .success
    transform scale(0)
  .btn
    transform translateX(620px)

.leftright
  overflow hidden
  .btn
    float left
    width 138px
    margin 0 0 10px
  .btn:nth-child(1)
    triangleAfter(35px)
    margin-right 44px
  .btn:nth-child(2)
    triangleBefore(35px)

.leftmiddleright
  overflow hidden
  .btn
    float left
    width 77px
    margin 0 0 10px
  .btn:nth-child(1)
    triangleAfter(35px)
    margin-right 44px
  .btn:nth-child(2)
    triangleAfter(35px)
    triangleBefore(35px)
    margin-right 44px
    width 78px
  .btn:nth-child(3)
    triangleBefore(35px)

.hide
  .leftright, .leftmiddleright
    .btn:nth-child(1)
      transform translateX(-620px)
    .btn:nth-child(2)
      transform translateX(620px)
    .btn:nth-child(3)
      transform translateX(620px)

.btn.update
  animation blink 550ms infinite
  animation-direction alternate
  animation-timing-function linear
  transition transform 330ms
  &.hide
    transform translateX(-300px)

@keyframes blink
  0%
    color black
  100%
    color red

@keyframes slide
  0%
    background-position 0 0
  100%
    background-position -1082px -1082px

@media all and (orientation:landscape)
  #levels
    width 100%
    .btn
      float right
      clear right
      position relative
      top -55px
      triangleBefore(35px)
      &:nth-child(2)
        top 0
        float none
        clear none
  #load
    width 100%
    .btn
      float left
      clear left
    #slider
      position relative
      top -142px
      left 175px
    #indicator
      width 320px
      position relative
      top -185px
      left 175px
  #main
    width 100%
    .btn
      float left
      clear left
    #game
      position relative
      top -229px
      left 95px
  #solved
    width 100%
    .success
      margin 8px auto 8px
  .touch-ctrl
    margin 0
    top -75px
    left 160px

